function autoFitText(t,{minFont:e=10,step:i=1}={}){t.style.whiteSpace="nowrap",t.style.overflow="hidden",t.style.textOverflow="ellipsis",t.dataset.maxFont||(t.dataset.maxFont=parseFloat(getComputedStyle(t).fontSize));let o=parseFloat(t.dataset.maxFont);for(t.style.fontSize=o+"px";(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)&&o>e;)o-=i,t.style.fontSize=o+"px"}const fitting=new WeakSet,resizeObserver=new ResizeObserver((t=>{for(const{target:e}of t)fitting.has(e)||(fitting.add(e),autoFitText(e),fitting.delete(e))})),mutationObserver=new MutationObserver((t=>{const e=new Set;t.forEach((t=>{const i=t.target.closest("[autofit]");i&&!e.has(i)&&(e.add(i),autoFitText(i))}))}));function initAutoFit(t=document){t.querySelectorAll("[autofit]").forEach((t=>{autoFitText(t),resizeObserver.observe(t),mutationObserver.observe(t,{childList:!0,characterData:!0,subtree:!0})}))}document.addEventListener("DOMContentLoaded",(()=>{initAutoFit()})),window.autoFitInit=initAutoFit;